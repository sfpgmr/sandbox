<!DOCTYPE html>

<html lang="ja" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-15457703-9"></script>
  <script>
    if (!location.hostname.match(/localhost/)) {
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'UA-15457703-9');
    }
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Twitter Viewer</title>
  <meta name="description" content="自作Twitter Viewerによる自分のつぶやきの記録。Programming,Music,HTML5,WebGL,javascript,WebAudio,Gameなど" />
  <meta name="keywords" content="Programming,Music,HTML5,WebGL,javascript,WebAudio" /> 	

  <meta itemprop="image" content="https://www.sfpgmr.net/img/sfweb.png" />
  <meta itemprop="name" content="S.F. Web" />
  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="S.F. Web" />
  <meta name="twitter:url" content="./index14.html" />
  <meta name="twitter:title" content="Twitter Viewer" />
  <meta name="twitter:description" content="自作Twitter Viewerによる自分のつぶやきの記録。Programming,Music,HTML5,WebGL,javascript,WebAudio,Gameなど" />
  <meta name="twitter:image" content="https://www.sfpgmr.net/img/sfweb.png" />
  
  <meta property="og:type" content="article">
  <meta property="og:url" content="./index14.html" />
  <meta property="og:title" content="Twitter Viewer"/>
  <meta property="og:site_name" content="S.F. Web" />
  <meta property="og:description" content="Programming,Music,HTML5,WebGL,javascript,WebAudio">
  <meta property="og:image" content="https://www.sfpgmr.net/img/sfweb.png">

  <style>
  * {
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

html {
  margin: 0;
  padding: 0;
  font-size: 10px; }

body {
  margin: 0;
  padding-left: 8px;
  padding-right: 8px;
  background: black;
  color: white; }

.top-nav {
  position: fixed;
  z-index: 99999;
  background: rgba(0, 0, 0, 0.5);
  display: block;
  width: 100%;
  height: 32px;
  color: white; }

#sentinel {
  width: 0px;
  height: 0px; }

.contents {
  padding-top: 32px;
  width: 100%;
  position: relative;
  content: strict; }

@keyframes blinking {
  0% {
    color: black; }
  50% {
    color: white; }
  100% {
    color: black; } }

.loading {
  font-family: monospace;
  font-size: 24px;
  position: fixed;
  width: 100vw;
  height: 100vh;
  text-align: center;
  padding-top: 50vh;
  z-index: 32768;
  background: black;
  animation: blinking 2s infinite;
  content: strict; }

.contents > article {
  background: #f0f0f0;
  color: #202020;
  position: absolute;
  max-height: 95vh;
  overflow: auto;
  border-radius: 3px;
  /* transition: opacity 1s linear;*/
  opacity: 1.0; }

.tweet-header {
  display: grid;
  align-items: end;
  grid-template-columns: 40px 2fr 1fr;
  grid-template-rows: 1fr;
  font-size: 12px;
  font-weight: bold; }

.tweet-img {
  width: 100%;
  object-fit: cover; }

.youtube {
  position: relative;
  cursor: pointer; }

.youtube > img {
  width: 100%;
  object-fit: cover; }

.youtube > svg.player-play {
  width: 64px;
  height: 64px;
  left: calc(50% - 32px);
  top: calc(50% - 32px);
  position: absolute;
  z-index: 1000;
  opacity: 0.5; }

.youtube:hover > svg.player-play {
  opacity: 1.0; }

.youtube:hover .player-play-1 {
  stroke: #80808080; }

.youtube > div.yt-title {
  /*text-shadow: #fff 1px 1px 0;*/
  font-size: 1.2rem;
  color: white;
  background: rgba(0, 0, 0, 0.5);
  position: absolute;
  left: 0;
  top: 0;
  overflow: auto;
  z-index: 998; }

.tweet-profile-img {
  grid-column: 1/2;
  width: 32px;
  height: 32px;
  border-radius: 50%; }

.tweet-user-name {
  grid-column: 2/3; }

.tweet-date {
  font-size: 8px;
  text-align: right;
  grid-column: 3/4; }

.contents > twitter-widget {
  overflow: auto;
  max-height: 960px;
  position: absolute; }

.contents > article > section > .tweet-text {
  display: block;
  padding: 4px;
  word-break: break-all;
  font-size: 12px; }

.contents > article > h3 {
  font-size: 12px; }

blockquote.card {
  margin: 4px;
  padding: 4px;
  font-size: 12px;
  background: white;
  border-radius: 4px; }

blockquote.card > header {
  display: grid;
  grid-gap: 4px;
  gap: 4px; }

blockquote.card-default > header {
  grid-template-columns: 64px 1fr; }

blockquote.card-large > header {
  grid-template-columns: 1fr; }

blockquote.card > header > img {
  width: 100%; }

div.no-image {
  display: block;
  width: 64px;
  height: 64px;
  background: gray;
  color: white;
  text-align: center;
  line-height: 64px; }
 
  </style>
</head>

<body>
  <div class="loading" id="loading">Loading</div>
  <header class="top-nav">
    <h1>S.F. Info.</h1>
  </header>
  <div class="contents" id="contents" rendersubtree="invisible skip-activation"> 
    
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/1022150732634419200/yZg4xLsO_normal.jpg" />
        <p class="tweet-user-name">mattn@mattn_jp</p>
        
        <p class="tweet-date"><a href="https://twitter.com/mattn_jp/status/1270379179582779394"
            target="_blank">2020/6/10 0:36:13</a></p>
      </header>
      <section>
        <p class="tweet-text">最近の C++ コンパイラは速いなぁ。僕が若かった頃にこの速さが出てたらもっと早く家に帰れていた。</p>
        
      </section>
      
    </article>
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/1212701145379946496/pSDVrvWj_normal.png" />
        <p class="tweet-user-name">S.F.@SFPGMR</p>
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270481567672983553"
            target="_blank">2020/6/10 7:23:04</a></p>
      </header>
      <section>
        <p class="tweet-text">中学生あたりで相当ハマったゲームとしてこのゲームが挙げられる。連射ができてストレスがないかわり、敵が地下に潜って下から突いてくる。当時このようなギャラクシアンの改良版のようなゲーム多くリリースされてた。動きが直線的でなく自然？な感じ。<br/><br/>銀河帝国の逆襲<br/><div class="youtube" data-type="yt" id="LImiuqCFLhg"><div class="yt-title">Youtube - [AC] 銀河帝国の逆襲 Ginga Teikoku no Gyakushu</div><svg class="player-play" width="64" height="64" xmlns="http://www.w3.org/2000/svg"><g><path class="player-play-1" fill="#ffffff" stroke-width="1" d="m0,0l64,32l-64,32l0,-64z" /></g></svg><img  data-href="https://youtu.be/LImiuqCFLhg" class="youtube" src="https://i.ytimg.com/vi/LImiuqCFLhg/hqdefault.jpg" /></div>   <br/></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270482015607914499"
            target="_blank">2020/6/10 7:24:51</a></p>
      </header>
      <section>
        <p class="tweet-text">中学生くらいの時はスーパー（私の地元の近辺だとダイエー）の屋上にゲームコーナーがあって、そこに結構な数のゲーム機かおいてあったんだよね。１プレイ=50円くらいのレートで遊ぶことができた。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270482183539486721"
            target="_blank">2020/6/10 7:25:31</a></p>
      </header>
      <section>
        <p class="tweet-text">このメーカーはアイレムですな。アイレムも老舗ですなあ。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270482496946180099"
            target="_blank">2020/6/10 7:26:46</a></p>
      </header>
      <section>
        <p class="tweet-text">繁華街に行かなくとも駄菓子屋の店先にも小さなアップライト筐体が２-３台あって、そこでもゲームすることができた。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270483194693873666"
            target="_blank">2020/6/10 7:29:32</a></p>
      </header>
      <section>
        <p class="tweet-text">ビデオ・ゲームが出てきたのは小学校高学年くらいから。駄菓子屋の店先でブロック崩しを遊んだのが最初。モノクロなんだけど、カラーに見えるようにセロファン（わかる？）みたいなの貼り付けたモニターだった。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270483689328132097"
            target="_blank">2020/6/10 7:31:30</a></p>
      </header>
      <section>
        <p class="tweet-text">友達が任天堂のブロック崩しを買ってたりして、家庭でもビデオゲームが楽しめることができるようにはなってたね。これは中学生のころかなあ。<br/><br/><div class="youtube" data-type="yt" id="0FVHG6KmFV4"><div class="yt-title">Youtube - 1979 任天堂 ブロック崩し</div><svg class="player-play" width="64" height="64" xmlns="http://www.w3.org/2000/svg"><g><path class="player-play-1" fill="#ffffff" stroke-width="1" d="m0,0l64,32l-64,32l0,-64z" /></g></svg><img  data-href="https://youtu.be/0FVHG6KmFV4" class="youtube" src="https://i.ytimg.com/vi/0FVHG6KmFV4/hqdefault.jpg" /></div>   <br/></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270490867543891970"
            target="_blank">2020/6/10 8:00:02</a></p>
      </header>
      <section>
        <p class="tweet-text">あとゲームウォッチもそうだよね。身近なゲーム機としては。私もファイヤーともう１つくらい持ってた気がしないでもない。<br/><br/><div class="youtube" data-type="yt" id="cwhU1qVXuXY"><div class="yt-title">Youtube - 任天堂 ゲーム＆ウォッチ CM 1980年 　ジャッジ、ボール、バーミン、ファイヤー</div><svg class="player-play" width="64" height="64" xmlns="http://www.w3.org/2000/svg"><g><path class="player-play-1" fill="#ffffff" stroke-width="1" d="m0,0l64,32l-64,32l0,-64z" /></g></svg><img  data-href="https://youtu.be/cwhU1qVXuXY" class="youtube" src="https://i.ytimg.com/vi/cwhU1qVXuXY/hqdefault.jpg" /></div>   <br/></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270491162910941184"
            target="_blank">2020/6/10 8:01:12</a></p>
      </header>
      <section>
        <p class="tweet-text">ゲーム機というと野球盤とかもゲーム機っちゃぁゲーム機だけど、「電子的な何かに投影してボタンを押して遊ぶゲーム」という定義にしておこうか。このスレッドはね。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270491313058676737"
            target="_blank">2020/6/10 8:01:48</a></p>
      </header>
      <section>
        <p class="tweet-text">しかしゲームウォッチは時計としてはかなり精度が悪かった気がする。時刻がしょっちゅうずれてた記憶が。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270492024819421184"
            target="_blank">2020/6/10 8:04:37</a></p>
      </header>
      <section>
        <p class="tweet-text">もうひとつはLSIの野球ゲームというのも我々の田舎では流行ったね。友達の家にテントを設営して、テントの中で夜通しこのゲームをやり気が付くと寝落ちしていたのも懐かしい思い出ですな。<br/><br/><div class="youtube" data-type="yt" id="jOw2PNUF5E4"><div class="yt-title">Youtube - バンダイLSI ベースボール</div><svg class="player-play" width="64" height="64" xmlns="http://www.w3.org/2000/svg"><g><path class="player-play-1" fill="#ffffff" stroke-width="1" d="m0,0l64,32l-64,32l0,-64z" /></g></svg><img  data-href="https://youtu.be/jOw2PNUF5E4" class="youtube" src="https://i.ytimg.com/vi/jOw2PNUF5E4/hqdefault.jpg" /></div>   <br/></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270492555050795008"
            target="_blank">2020/6/10 8:06:44</a></p>
      </header>
      <section>
        <p class="tweet-text">ゲーム・コーナーでビデオ・ゲームを遊び倒したいのはやまやまだけど、小遣いの範囲でしか遊べないからそうそうできるものではないんだよね。１回のプレイにかける真剣さはそりゃ相当なもの（笑）</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270493251103940610"
            target="_blank">2020/6/10 8:09:30</a></p>
      </header>
      <section>
        <p class="tweet-text">当時はナムコがメイン、あとはタイトー、セガ、コナミ、SNK、任天堂、DECO、UPL、アイレム、ニチブツ（笑）、サン電子、カプコンとかまあいろいろなゲームメーカーがいたような気もするなあ。全部のメーカーのがあるわけじゃなかったと思うんだけどね。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270493595561193472"
            target="_blank">2020/6/10 8:10:52</a></p>
      </header>
      <section>
        <p class="tweet-text">タイトーのスペース・インベーダーは私が小学４年くらいのときだったね。少しだけ遊んだ記憶があるけど、その流行の時にはあまり遊んではいなかったね。大人のゲームっていう感じだったんだよな。私の感覚としては。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270493765124231168"
            target="_blank">2020/6/10 8:11:32</a></p>
      </header>
      <section>
        <p class="tweet-text">ゲーセンのゲームコーナーにもインベーダーは置いてあったけど、もう廃れ気味な状況だった。</p>
        
      </section>
      
    </article>
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/1212701145379946496/pSDVrvWj_normal.png" />
        <p class="tweet-user-name">S.F.@SFPGMR</p>
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266335517408235522"
            target="_blank">2020/5/29 20:48:09</a></p>
      </header>
      <section>
        <p class="tweet-text">ここまでをまとめておいた。。<br/><br/><blockquote class="card card-default"><header><img  src="https://pimg.togetter.com/small_light(sx=0.0p,sy=8.7p,sw=100.0p,sh=82.3p,dw=1212.0,dh=636.3,cw=1200.0,ch=630.0,p=default,da=l,ds=s)/ad3f2fd296c450147daf73a1dfc85411dc14945f/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f455a764d3978675663414952747a422e706e67" /><a href="https://togetter.com/li/1266927" target="_blank">オレオレ言語 - Togetter</a></header><div>node.jsでWASMを吐くコンパイラを作っています。まだ完成には至っていません。少々放置していましたがまた新たな言語を作り始めてます。■オレオレ言語の中間成果物として作ったもの■過去の遺物リポ..</div></blockquote></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266489969079496704"
            target="_blank">2020/5/30 7:01:53</a></p>
      </header>
      <section>
        <p class="tweet-text">定数式かどうかの評価関数を作ったけど、同時に演算しても問題ない気がしてきたな。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266497801380171776"
            target="_blank">2020/5/30 7:33:00</a></p>
      </header>
      <section>
        <p class="tweet-text">というのも、Int64の計算がnodeのBigIntサポートによって可能となったし、TypedArray/DataViewもBigInt64/BigUint64のサポートされるみたいだしね。。これはECMAのどのエディションでサポートされるんだったっけ。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266498306630316032"
            target="_blank">2020/5/30 7:35:01</a></p>
      </header>
      <section>
        <p class="tweet-text">以前も64ビットの整数演算は2つの32ビット値とすることでなんとか可能にしてた。というか演算をwasmにやらせて2つの32ビット値として返すようなことをやってたね。確か。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266502468914999296"
            target="_blank">2020/5/30 7:51:33</a></p>
      </header>
      <section>
        <p class="tweet-text">違うな。ソースレベルでのプリプロセスだから演算まではやってないね。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266502865603842048"
            target="_blank">2020/5/30 7:53:08</a></p>
      </header>
      <section>
        <p class="tweet-text">いずれにしろJS側で64bitの整数演算まで行って、wasm側に10進定数として引き渡すことはかなり容易になってるな。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266503041194160128"
            target="_blank">2020/5/30 7:53:50</a></p>
      </header>
      <section>
        <p class="tweet-text">確かwasmのproposalにもこの辺関連のものがあった気がするね。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266504074523901952"
            target="_blank">2020/5/30 7:57:56</a></p>
      </header>
      <section>
        <p class="tweet-text">これですな。<br/><blockquote class="card card-default"><header><img  src="https://avatars3.githubusercontent.com/u/11578470?s=400&v=4" /><a href="https://github.com/WebAssembly/JS-BigInt-integration" target="_blank">GitHub - WebAssembly/JS-BigInt-integration: JavaScript BigInt to WebAssembly i64 integration</a></header><div>JavaScript BigInt to WebAssembly i64 integration. Contribute to WebAssembly/JS-BigInt-integration development by creating an account on GitHub.</div></blockquote></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266505429510545408"
            target="_blank">2020/5/30 8:03:19</a></p>
      </header>
      <section>
        <p class="tweet-text">数値演算に関しては、暗黙な型変換はやらないでエラーにしようかなと思う気持ちもある。とするとリテラルは必ず型指定しないといけなくなる。aがi32という型を持つ場合、以下の式をエラーとするかどうかという話<br/><br/>a * 1; // Error<br/>a * 1i;// ok</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266534437312884736"
            target="_blank">2020/5/30 9:58:35</a></p>
      </header>
      <section>
        <p class="tweet-text">コンパイル時に定数式を実行する関数を作成中。。これを実装してみることによって、コンパイル時のメタ関数の実行・実装方法の検討を深めることができるのではないかと。。 https://t.co/M2xIJoEY9r</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZOhrHFUMAAgDeZ.png" />
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266534801059659777"
            target="_blank">2020/5/30 10:00:02</a></p>
      </header>
      <section>
        <p class="tweet-text">整数定数はとりあえずBigIntのインスタンスにして最後にi32かi64にまとめるようにすれば簡単に実装できそうな気もするな。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266644776356478976"
            target="_blank">2020/5/30 17:17:02</a></p>
      </header>
      <section>
        <p class="tweet-text">JSで8bit右ビット・ローテートをエミュレートする。<br/>おお、確かに回転しとるな。。 https://t.co/XlgjENVEVN</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZQGqV6UwAERJES.png" />
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266645319082639360"
            target="_blank">2020/5/30 17:19:11</a></p>
      </header>
      <section>
        <p class="tweet-text">つい最近までべき乗演算子の存在を知らんかった（笑）<br/>Math.pow()でやってたよ。。 https://t.co/m3m8p6DGzT</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZQHJh2VcAArj4s.png" />
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266645856750415873"
            target="_blank">2020/5/30 17:21:20</a></p>
      </header>
      <section>
        <p class="tweet-text">ローテートの元ネタはこれ。これをBigIntでやってるだけ。<br/><br/><blockquote class="card card-default"><header><img  src="https://avatars0.githubusercontent.com/u/2488926?s=400&v=4" /><a href="https://github.com/dfrankland/bitwise-rotation/blob/master/src/index.js" target="_blank">bitwise-rotation/index.js at master · dfrankland/bitwise-rotation · GitHub</a></header><div>🔄 Rotate values with a bitwise rotation. Contribute to dfrankland/bitwise-rotation development by creating an account on GitHub.</div></blockquote></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266646360125607936"
            target="_blank">2020/5/30 17:23:20</a></p>
      </header>
      <section>
        <p class="tweet-text">ビット演算のハックも面白い世界である。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266647136151584770"
            target="_blank">2020/5/30 17:26:25</a></p>
      </header>
      <section>
        <p class="tweet-text">ビットの並びを反転させるというのも最初見たときは？？？だった。理解できたときは嬉しかったのでQiitaに書いたほどだった。<br/><br/><blockquote class="card card-large"><header><img  src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-1.2.2&w=1200&mark=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D380%26txt%3D1%25E3%2583%2590%25E3%2582%25A4%25E3%2583%2588%25E4%25B8%25AD%25E3%2581%25AE0-7%25E3%2583%2593%25E3%2583%2583%25E3%2583%2588%25E3%2581%25AE%25E5%2586%2585%25E5%25AE%25B9%25E3%2582%25927-0%25E3%2583%2593%25E3%2583%2583%25E3%2583%2588%25E3%2581%25AB%25E5%258F%258D%25E8%25BB%25A2%25E3%2581%2595%25E3%2581%259B%25E3%2582%258B%25E3%2583%25A1%25E3%2582%25BD%25E3%2583%2583%25E3%2583%2589%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D54%26txt-clip%3Dellipsis%26txt-align%3Dcenter%252Cmiddle%26s%3D336928cfdaed6deebdc8ce5cadde2923&mark-align=center%2Cmiddle&blend=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D500%26txt%3D%2540SFPGMR%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D45%26txt-align%3Dright%252Cbottom%26s%3Dc23b0952f5b9bbd73a7e2c18c323897d&blend-align=center%2Cmiddle&blend-mode=normal&s=3c8937457dbcb72c03917150eaea74d3" /><a href="https://qiita.com/SFPGMR/items/4eaaa70681d868918402" target="_blank">1バイト中の0-7ビットの内容を7-0ビットに反転させるメソッド - Qiita</a></header><div>標題を実現するメソッドを考えていたが、ちょっと面倒だと思った。<br/>ググると素晴らしいメソッドを発見した。<br/><br/>http://graphics.stanford.edu/~seander/bithacks.html#ReverseParal...</div></blockquote></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266647570228506624"
            target="_blank">2020/5/30 17:28:08</a></p>
      </header>
      <section>
        <p class="tweet-text">このあたりを読むと結構面白いと思う。<br/><br/><blockquote class="card card-default"><header><div class="no-image" >No Image</div><a href="https://graphics.stanford.edu/~seander/bithacks.html" target="_blank">Bit Twiddling Hacks</a></header><div></div></blockquote></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266654458848534528"
            target="_blank">2020/5/30 17:55:30</a></p>
      </header>
      <section>
        <p class="tweet-text">式を処理する関数は、関数を再帰的に呼び出しながら式ツリーを辿っていき、値（変数の値やリテラル）に到達したら計算しながら戻る感じなんだよね。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266655275559211009"
            target="_blank">2020/5/30 17:58:45</a></p>
      </header>
      <section>
        <p class="tweet-text">これは結局式の中置記法を逆ポーランド記法に変換しながら計算するということになるんだよな。確か。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266656271416963073"
            target="_blank">2020/5/30 18:02:43</a></p>
      </header>
      <section>
        <p class="tweet-text">wasm S式で式を書くとポーランド記法になる。LISPもそうなるのかな。同じS式だからね。。 https://t.co/te1MIrzotM</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZQRFXWUYAERpFW.png" />
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266658012619354112"
            target="_blank">2020/5/30 18:09:38</a></p>
      </header>
      <section>
        <p class="tweet-text">違うか。ASTの時点で式ツリーはポーランド記法で書いた式と等価な内容になっているのかな。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266658892030701568"
            target="_blank">2020/5/30 18:13:07</a></p>
      </header>
      <section>
        <p class="tweet-text">しかしwasmのフラットモードだと式は逆ポーランド記法っぽくなるよな。<br/><br/>i32.const 1 ;; スタックに積む<br/>i32.const 2 ;; スタックに積む<br/>i32.add ;; スタックから左辺値・右辺値を取り出して加算し、スタックに積む<br/><br/>まあ、どうでもいいことだが。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266659236919914496"
            target="_blank">2020/5/30 18:14:30</a></p>
      </header>
      <section>
        <p class="tweet-text">これがS式だと<br/><br/>(i32.add <br/>  (i32.const 1)<br/>  (i32.const 2)<br/>)<br/><br/>とこうなって演算子が先に来る。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266661424958369792"
            target="_blank">2020/5/30 18:23:11</a></p>
      </header>
      <section>
        <p class="tweet-text">LispというかS式にある種の美しさを感じるのは私だけではないはず。そんなに知らないのにこう言うのは何だが。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266667855455510528"
            target="_blank">2020/5/30 18:48:44</a></p>
      </header>
      <section>
        <p class="tweet-text">これは式の記法になるというよりは、記法に近い（似ている）並びというか実装になるということですな。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266994061400928256"
            target="_blank">2020/5/31 16:24:58</a></p>
      </header>
      <section>
        <p class="tweet-text">定数式処理を実装している。今は型変換をどうしようか考えているところ。定数式であっても型チェックを行い、型が異なる場合はエラーとするつもりである。暗黙変換は行わない方向で進めているから、型変換の構文は必要である。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1266998729267011584"
            target="_blank">2020/5/31 16:43:31</a></p>
      </header>
      <section>
        <p class="tweet-text">wasmは型変換のインストラクションがある。これをまんま構文に当てはめていこうと当初考えていた。<br/><br/>1.整数&lt;--&gt;実数の変換<br/>・convert_u/s,trunc_u/s<br/>2.bit幅の変換(32bit &lt;--&gt; 64bit)<br/>・wrap,extend_u/s,demote,promote<br/>3.破壊的変換（reinterpret type conversion)<br/>・reinterpret</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267003222067052544"
            target="_blank">2020/5/31 17:01:22</a></p>
      </header>
      <section>
        <p class="tweet-text">型変換構文はTypeScript風である。<br/>a:i64;<br/>b:f32<br/><br/>&lt;i32&gt;a;// wrap<br/>&lt;f64&gt;b;// promote<br/>reinterpret &lt;i64&gt;b; // reinterpret<br/><br/>型変換構文がどの命令を選ぶのかは変換先と変換元の型で決まる。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267012293507706882"
            target="_blank">2020/5/31 17:37:25</a></p>
      </header>
      <section>
        <p class="tweet-text">reinterpretというのは同じビット幅を持つ整数と実数をビット列はそのままに型変換するというやつ。<br/><br/>f32.const 1<br/>i32.reinterpret_f32<br/><br/>これを実行するとスタックにはi32の0x3F800000が入る。wasmのスタックに入ってる値は型情報を持っているということですわな。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267013293471752192"
            target="_blank">2020/5/31 17:41:23</a></p>
      </header>
      <section>
        <p class="tweet-text">対して<br/><br/>f32.const 1<br/>i32.trunc_s<br/><br/>はスタックにi32型の値「1」がセットされる。少数以下は切り捨てになる。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267017956384337920"
            target="_blank">2020/5/31 17:59:55</a></p>
      </header>
      <section>
        <p class="tweet-text">定数式の場合、この型変換はコンパイル時にJSでエミュレートする必要がある。が、reinterpretの処理が結構面倒である。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267018673564217356"
            target="_blank">2020/5/31 18:02:46</a></p>
      </header>
      <section>
        <p class="tweet-text">簡単にやるにはwasmでreinterpretを行う関数を作ってJSで実行するのがよいと思う。ほかの変換もそれでいいかもしれないな。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267030556451078145"
            target="_blank">2020/5/31 18:49:59</a></p>
      </header>
      <section>
        <p class="tweet-text">というわけでwatでヘルパライブラリを書いている。簡単ではありますが。 https://t.co/TM1PN4PejI</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZVlgqxUYAAMJVd.png" />
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267031422398676992"
            target="_blank">2020/5/31 18:53:26</a></p>
      </header>
      <section>
        <p class="tweet-text">型変換に関して、FIXED SIMDのことすっかり忘れとるなあ（笑）</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267032199854841858"
            target="_blank">2020/5/31 18:56:31</a></p>
      </header>
      <section>
        <p class="tweet-text">あとはPseudo Typeの型変換をどう考えるかですな。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267187909536346113"
            target="_blank">2020/6/1 5:15:15</a></p>
      </header>
      <section>
        <p class="tweet-text">type conversionのwasm instructionをJSで使えるようにしてみた。全部使うかわからんけどね。 https://t.co/chtdeWp3Mx</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZX0e74UEAE0Pnh.png" />
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267214084530831360"
            target="_blank">2020/6/1 6:59:16</a></p>
      </header>
      <section>
        <p class="tweet-text">型に応じたデータ変換のうち、reintepretはちょっとJSでは難しいかなと思ったけど、TypedArrayとDataView使って簡単にできたんだった。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267214321886482432"
            target="_blank">2020/6/1 7:00:12</a></p>
      </header>
      <section>
        <p class="tweet-text">データ型としてunsignedを追加するかどうか迷ってきた。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267221367138611200"
            target="_blank">2020/6/1 7:28:12</a></p>
      </header>
      <section>
        <p class="tweet-text">こんなのあるんだなあ。。<br/><blockquote class="card card-default"><header><img  src="https://avatars3.githubusercontent.com/u/11578470?s=400&v=4" /><a href="https://github.com/WebAssembly/simd/blob/master/test/js-api/wasm-module-builder.js" target="_blank">simd/wasm-module-builder.js at master · WebAssembly/simd · GitHub</a></header><div>Branch of the spec repo scoped to discussion of SIMD in WebAssembly  - WebAssembly/simd</div></blockquote></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267228914822209537"
            target="_blank">2020/6/1 7:58:11</a></p>
      </header>
      <section>
        <p class="tweet-text">あとあれだなあ、定数の宣言も必要ですな。コンパイル時には変数で利用可能なね。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267752721714540545"
            target="_blank">2020/6/2 18:39:37</a></p>
      </header>
      <section>
        <p class="tweet-text">ビルトイン型としてu8/u16/u32/u64を追加した。何かの言語に近づいてるきもしないでもない。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267753361987657728"
            target="_blank">2020/6/2 18:42:09</a></p>
      </header>
      <section>
        <p class="tweet-text">そして何かにとりつかれたようにwasmインストラクションをJSで実行するwasmモジュールを作り始めてるという。。インタプリタ実装に役に立つかなあと思って。。 https://t.co/8wFk3Yxh6W</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZf2vPGUwAMFq_r.png" />
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267753466094424064"
            target="_blank">2020/6/2 18:42:34</a></p>
      </header>
      <section>
        <p class="tweet-text">なんかちょっと方向性がおかしくなってきてる気もしないでもない。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267754554109509632"
            target="_blank">2020/6/2 18:46:54</a></p>
      </header>
      <section>
        <p class="tweet-text">floatのビットパターン文字列をJSで得るのってArrayBufferとDataView使えば簡単でしたな。。<br/><br/>let view = new DataView(new ArrayBuffer(4));<br/>view.setFloat32(0,-10);<br/>view.getUint32(0).toString(2).padStart(32,'0');<br/>'11000001001000000000000000000000'</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267755019031310336"
            target="_blank">2020/6/2 18:48:44</a></p>
      </header>
      <section>
        <p class="tweet-text">つまりこれはreinterpret命令のエミュレーションでもある。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267910366362660864"
            target="_blank">2020/6/3 5:06:02</a></p>
      </header>
      <section>
        <p class="tweet-text">8bit/16bitの疑似型の演算をどうしようか考えている。wasmではi32のみなので、8/16bitの演算はi32のインストラクションを使ってそのビット幅での演算となるようにしなければならない。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267912394493227008"
            target="_blank">2020/6/3 5:14:06</a></p>
      </header>
      <section>
        <p class="tweet-text">8bit幅だと、8-31bitまでの空きビットの取り扱いを考える必要がある。演算を32bit幅で行い、その結果が8bit幅で考えた場合におかしくなるかもしれないので。まずは8-31bitはそのまま放っておくことを考える。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267916352364265472"
            target="_blank">2020/6/3 5:29:49</a></p>
      </header>
      <section>
        <p class="tweet-text">8bit整数演算の場合、意図的に8-31bitに何か値を入れない限りはビット・ローテーション以外は演算結果が不正になることはなさそうな気がする。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267917288440598530"
            target="_blank">2020/6/3 5:33:32</a></p>
      </header>
      <section>
        <p class="tweet-text">-1をi32に代入すると、全部のビットが１となる。<br/><br/>11111111111111111111111111111111<br/><br/>これはi8で考えても-1である。<br/><br/>11111111</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267918540197117954"
            target="_blank">2020/6/3 5:38:31</a></p>
      </header>
      <section>
        <p class="tweet-text">(2)これに1を加算すると0となる。これはi8で考えても結果は同じ。また0から1を減算すると-1となってすべてのビットが１となるがこれは最初に検証した結果と同じ。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267923152819990528"
            target="_blank">2020/6/3 5:56:51</a></p>
      </header>
      <section>
        <p class="tweet-text">i32での255はi8であれば-1である。これに1を加算するとi32では<br/><br/>1 0000 0000<br/><br/>256となる。この状態で他の値を比較するとi8で見た場合結果がおかしくなる。この値と0を等価比較した場合、i8では8bit以降は無効であるから等しいが、i32の比較命令では有効であるので結果偽になってしまう。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267923862378831872"
            target="_blank">2020/6/3 5:59:40</a></p>
      </header>
      <section>
        <p class="tweet-text">よって比較命令を実施する場合は事前に8-31bitをクリアしておく必要がある。<br/><br/>a &amp; 0xff;</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267925176391356416"
            target="_blank">2020/6/3 6:04:53</a></p>
      </header>
      <section>
        <p class="tweet-text">しかしこれでは負の数と正の数との比較が正しくなくなってしまう。0xffと1の比較はi8で見れば1のほうが大きくなければならないが、i32の比較命令では先ほどのビットクリアしただけでは大小関係が逆転してしまうということ。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267925618328350720"
            target="_blank">2020/6/3 6:06:38</a></p>
      </header>
      <section>
        <p class="tweet-text">考えると、未使用ビットは0クリアするのではなくi8の符号ビットで埋めなくてはならないようだ。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267927751740145664"
            target="_blank">2020/6/3 6:15:07</a></p>
      </header>
      <section>
        <p class="tweet-text">つまりi8の要件として<br/><br/>1. 0-255以外の代入は許さない<br/>2.演算のあと8-31bitは符号ビットで埋める<br/><br/>としておけばビット・ローテート以外は問題なさそうですな。なかなかコストが高いですな。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267929023713165312"
            target="_blank">2020/6/3 6:20:10</a></p>
      </header>
      <section>
        <p class="tweet-text">1.はコンパイル時のチェックである程度は防げるかな。2.はどっか端折れるとこを探すくらいかな。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267932605489442816"
            target="_blank">2020/6/3 6:34:24</a></p>
      </header>
      <section>
        <p class="tweet-text">引数を8/16ビット数値とみなして符号ビットで埋める命令はwasm 1.1で追加されとるな。。<br/><br/>i32.extend8_s<br/>i32.extend16_s<br/>i64.extend8_s<br/>i64.extend16_s<br/>i64.extend32_s<br/><br/>やったああ！！ https://t.co/k9HuFpDLHV</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZiZzZSU0AAFGN7.png" />
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267933066300780544"
            target="_blank">2020/6/3 6:36:14</a></p>
      </header>
      <section>
        <p class="tweet-text">符号ビットで埋めるのは結構面倒くさいし、コストがかかるもんな。いうてもコスト面はこのインストラクションがどうネイティブに変換されるのにもよるけどね。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267933735128674305"
            target="_blank">2020/6/3 6:38:54</a></p>
      </header>
      <section>
        <p class="tweet-text">まあしかしこの命令があるおかげでi8/i16の演算はかなり楽にできると思われる。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267934807712923649"
            target="_blank">2020/6/3 6:43:09</a></p>
      </header>
      <section>
        <p class="tweet-text">しかしあれですな、wasmで8bit PCのエミュレータ作るのは結構高くつくのかもしれんね。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267935474993123328"
            target="_blank">2020/6/3 6:45:48</a></p>
      </header>
      <section>
        <p class="tweet-text">このu8/i8/u16/i16は文字列の処理を行うに必要な型でもある。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267935503430479873"
            target="_blank">2020/6/3 6:45:55</a></p>
      </header>
      <section>
        <p class="tweet-text">定数式を計算するコードも完成させないとね。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267948057737322496"
            target="_blank">2020/6/3 7:35:48</a></p>
      </header>
      <section>
        <p class="tweet-text">符号拡張というのは整数の計算においては念頭に置いておいて当たり前の話だと思うのだが、私は忘却の彼方であった（笑）</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267948289690746880"
            target="_blank">2020/6/3 7:36:44</a></p>
      </header>
      <section>
        <p class="tweet-text">ちなみに符号拡張のHackというのもある。こういうHackがあるというのだけは記憶にあった（笑）。<br/><br/><blockquote class="card card-default"><header><div class="no-image" >No Image</div><a href="https://graphics.stanford.edu/~seander/bithacks.html#FixedSignExtend" target="_blank">Bit Twiddling Hacks</a></header><div></div></blockquote></p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267951284327333889"
            target="_blank">2020/6/3 7:48:38</a></p>
      </header>
      <section>
        <p class="tweet-text">JSで符号拡張をまねるとこんな感じだろうか。。<br/><br/>(符号拡張したい数値 &lt;&lt; (型のビット長-符号拡張した数値のビット長)) &gt;&gt; (型のビット長-符号拡張した数値のビット長)<br/><br/>(0x80 &lt;&lt; (32-8)) &gt;&gt; (32-8)<br/>// -128<br/><br/>(0x7f &lt;&lt; (32-8)) &gt;&gt; (32-8)<br/>// 127</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1267951707092217856"
            target="_blank">2020/6/3 7:50:19</a></p>
      </header>
      <section>
        <p class="tweet-text">ムムム。。整数演算も奥が深いわ。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1268833513245032450"
            target="_blank">2020/6/5 18:14:18</a></p>
      </header>
      <section>
        <p class="tweet-text">定数式を処理するのに、wasmでインストラクションを1個ずつエクスポートするモジュールを作って処理すれば楽で正確なのでは？ということでやり始めたが結構面倒くさくてかえって大がかりになってしまった...。 https://t.co/jODXpAb9Dj</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZvM9xgVcAIRtzB.png" />
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1268834706507718656"
            target="_blank">2020/6/5 18:19:02</a></p>
      </header>
      <section>
        <p class="tweet-text">まあしかし定数式に取り組むことによって足りない仕様がいくつか判明したのでよかったけど。あ、そういえば定数宣言まだできてないな。これは型付きの定数のエイリアスみたいなもの。実行時は完全に定数となる。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1268834882475573248"
            target="_blank">2020/6/5 18:19:44</a></p>
      </header>
      <section>
        <p class="tweet-text">またコンパイル時インタプリタへの道筋が見えてきたような気がしないでもない。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1268835472098291713"
            target="_blank">2020/6/5 18:22:05</a></p>
      </header>
      <section>
        <p class="tweet-text">しかしconst 変数って変な言葉だよなあ。内容が変わるから「変数」というのにそれに「定数」というお冠をつけるんだもんなあ。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1268836169548095488"
            target="_blank">2020/6/5 18:24:51</a></p>
      </header>
      <section>
        <p class="tweet-text">意味としてはreadonlyだよな。そういう属性をつけることができる言語もたしかあったなあ。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269401656459882497"
            target="_blank">2020/6/7 7:51:53</a></p>
      </header>
      <section>
        <p class="tweet-text">constキーワードの意味合いを考えながら、データ変換（キャスト）のコードを書いているところ、ようやく定数式の処理もめどがつきそうなところまできた。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269403050801676288"
            target="_blank">2020/6/7 7:57:26</a></p>
      </header>
      <section>
        <p class="tweet-text">constキーワードを付与する変数や関数は<br/><br/>・実行時には定数になる<br/>・コンパイル時に実行される<br/>・コンパイル時に評価できないものはエラーになる<br/>・処理による結果（成果物）は実行時とは異なる</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269403975322759169"
            target="_blank">2020/6/7 8:01:06</a></p>
      </header>
      <section>
        <p class="tweet-text">処理による結果が異なるというのは、例えば関数があるメモリに内容を書き込む処理を実行した場合、実行時には言葉通りの処理となるが、constキーワードをつけるとメモリのdata segmentを生成する処理になるということ。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269404429335183360"
            target="_blank">2020/6/7 8:02:55</a></p>
      </header>
      <section>
        <p class="tweet-text">そしてスコープ付きのローカル変数を導入しようかなあと思う。これは糖衣構文といっていいものだが。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269405467266039808"
            target="_blank">2020/6/7 8:07:02</a></p>
      </header>
      <section>
        <p class="tweet-text">wasm関数はローカル変数を関数宣言時にすべて列挙しなくてはいけないので、関数本体のステートメントからローカル変数の宣言を抜き出して、変数名が衝突したら回避するように名前を変えてwasm関数の構文に変換するだけどね。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269405959736066048"
            target="_blank">2020/6/7 8:08:59</a></p>
      </header>
      <section>
        <p class="tweet-text">ローカル変数宣言時にも同じスコープでは変数名は重複できないようにするとか必要になるけどね。これないと処理の流れがわかりずらいような気がするんだよね。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269406543604101120"
            target="_blank">2020/6/7 8:11:19</a></p>
      </header>
      <section>
        <p class="tweet-text">今のところの考えでいくと変数は<br/><br/>・グローバル変数<br/>・スコープ付きローカル変数<br/>・メモリ変数<br/><br/>この3種類になるということですな。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269764335494000640"
            target="_blank">2020/6/8 7:53:03</a></p>
      </header>
      <section>
        <p class="tweet-text">昔話に花を咲かせすぎて土日をつぶしてしまった（笑）今書いてる型変換（いわゆるキャスト）のコードはwasmが持っている型変換命令へのマッピングは終わった。あとは疑似型やポインタの変換をどうするかだなあ。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269764765808615424"
            target="_blank">2020/6/8 7:54:45</a></p>
      </header>
      <section>
        <p class="tweet-text">今のところポインタの仕様は単なる型つきのメモリ・オフセットなんだよね。つまりi32(u32)の値。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269767675577659392"
            target="_blank">2020/6/8 8:06:19</a></p>
      </header>
      <section>
        <p class="tweet-text">型変換に関してもポインタToポインタの変換はメモリ・オフセットなのでそのまま型情報を置き換えるだけで済む。これはほぼCのポインタ・キャストとほぼ等価な処理。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269768619300446214"
            target="_blank">2020/6/8 8:10:04</a></p>
      </header>
      <section>
        <p class="tweet-text">ポインタはi32値なのでふつうに整数演算可能。ちょっと今考えてるのが、i64/f32/f64への変換。なんとなくi64に変換できるのは使うケースがあるような気もするけど、f32/f64の変換って必要なのかなあ、と。ここはエラーで落とすべきなんじゃないのかなあと。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269769792812007424"
            target="_blank">2020/6/8 8:14:44</a></p>
      </header>
      <section>
        <p class="tweet-text">ビット幅が大きい型から、小さい型への変換も実装内容に迷いがあった。これはwasmのi64 -&gt; i32の変換仕様に従おうということにした。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1269770262657916928"
            target="_blank">2020/6/8 8:16:36</a></p>
      </header>
      <section>
        <p class="tweet-text">違うな。どっちかというとこっちに迷いがあったんだった。<br/><br/>f32/f64 -&gt; i8/i16</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270464461434806275"
            target="_blank">2020/6/10 6:15:06</a></p>
      </header>
      <section>
        <p class="tweet-text">ようやく定数式ツリーの葉っぱとなる部分、数値リテラルの処理が終わりそうだ。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270464778230620162"
            target="_blank">2020/6/10 6:16:21</a></p>
      </header>
      <section>
        <p class="tweet-text">twitterはほぼ備忘録と化している。若い時と違って書いとかないとすぐ忘れちゃうからね。。書いたことも忘れちゃうけど（笑）</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270466124551872512"
            target="_blank">2020/6/10 6:21:42</a></p>
      </header>
      <section>
        <p class="tweet-text">このあたり面倒で地味な部分だから異様に手が動くのが遅い。。</p>
        
      </section>
      
      <header class="tweet-header">
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270466211571052544"
            target="_blank">2020/6/10 6:22:03</a></p>
      </header>
      <section>
        <p class="tweet-text">なかなかconstに手を出せないでいる。。</p>
        
      </section>
      
    </article>
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/1097900569287569409/4ItOsMkQ_normal.png" />
        <p class="tweet-user-name">和田ラヂヲ@radiowada</p>
        
        <p class="tweet-date"><a href="https://twitter.com/radiowada/status/1270304911847116800"
            target="_blank">2020/6/9 19:41:06</a></p>
      </header>
      <section>
        <p class="tweet-text">ロックの日なので久しぶりにどうぞ。 https://t.co/6yx3ykMYdx</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EaEHhrZUcAAzxo_.png" />
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EaEHkKyUcAAb1_4.png" />
        
      </section>
      
    </article>
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/1265517189194559489/xQfmTlpf_normal.png" />
        <p class="tweet-user-name">忍者犬☆乳丸@opaimar</p>
        
        <p class="tweet-date"><a href="https://twitter.com/opaimar/status/1270370581767090178"
            target="_blank">2020/6/10 0:02:03</a></p>
      </header>
      <section>
        <p class="tweet-text">ということで、マイコンBASICマガジンは1982年6月10日にラジオの製作の付録から独立創刊したそうです。<br/>6月10日を #ベーマガの日 として、皆さんのエピソードを聞かせてください。よろしくお願いします。 https://t.co/pLbNVNbX3w</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EaFDTX1VAAMb105.jpg" />
        
      </section>
      
    </article>
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/604577289/clock_normal.jpg" />
        <p class="tweet-user-name">Katsumi (電子工作好き)@kats_me</p>
        
        <p class="tweet-date"><a href="https://twitter.com/kats_me/status/1270044730508767240"
            target="_blank">2020/6/9 2:27:14</a></p>
      </header>
      <section>
        <p class="tweet-text">巷では今、6502が密かに流行しているのか？Apple IをMachiKaniaに移植しようかな。Apple ][は、ROMの著作権の問題があって無理。 <a href="https://twitter.com/wakwak_akizuki/status/1269790345102888960" target="_blank">twitter.com/wakwak_akizuki…</a></p>
        
      </section>
      
    </article>
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/1115134657010384897/6AU_raOS_normal.png" />
        <p class="tweet-user-name">MickyAlbert@MickyAlbert</p>
        
        <p class="tweet-date"><a href="https://twitter.com/MickyAlbert/status/1270111764600872960"
            target="_blank">2020/6/9 6:53:36</a></p>
      </header>
      <section>
        <p class="tweet-text">昨日の小沢純子さんの生誕を祝い、２９年ぶりに小沢さんが全曲を担当されたエイリアンフィールドを５０％オフセールを開始しました！<br/><a href="https://store.steampowered.com/app/926350/ALIEN_FIELD/" target="_blank">store.steampowered.com/app/926350/ALI…</a><br/>充実のパッケージ版、Ｂ５サイズ７８ページのブックレットが付くサントラについてはこちらをご覧ください。<br/><a href="http://pinball.co.jp/games/AF/" target="_blank">pinball.co.jp/games/AF/</a></p>
        
      </section>
      
    </article>
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/1212701145379946496/pSDVrvWj_normal.png" />
        <p class="tweet-user-name">S.F.@SFPGMR</p>
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270111599592800256"
            target="_blank">2020/6/9 6:52:57</a></p>
      </header>
      <section>
        <p class="tweet-text">BigIntって便利だなあ。。</p>
        
      </section>
      
    </article>
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/1212701145379946496/pSDVrvWj_normal.png" />
        <p class="tweet-user-name">S.F.@SFPGMR</p>
        
        <p class="tweet-date"><a href="https://twitter.com/SFPGMR/status/1270088498469457920"
            target="_blank">2020/6/9 5:21:09</a></p>
      </header>
      <section>
        <p class="tweet-text">まとめを更新しました。「オレオレ言語」 <blockquote class="card card-default"><header><img  src="https://pimg.togetter.com/small_light(sx=0.0p,sy=8.7p,sw=100.0p,sh=82.3p,dw=1212.0,dh=636.3,cw=1200.0,ch=630.0,p=default,da=l,ds=s)/ad3f2fd296c450147daf73a1dfc85411dc14945f/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f455a764d3978675663414952747a422e706e67" /><a href="https://togetter.com/li/1266927" target="_blank">オレオレ言語 - Togetter</a></header><div>node.jsでWASMを吐くコンパイラを作っています。まだ完成には至っていません。少々放置していましたがまた新たな言語を作り始めてます。■オレオレ言語の中間成果物として作ったもの■過去の遺物リポ..</div></blockquote></p>
        
      </section>
      
    </article>
    
    <article>
      
      
      <header class="tweet-header">
        
        <img class="tweet-profile-img"  src="https://pbs.twimg.com/profile_images/1179747158230102017/WTR9tI3P_normal.jpg" />
        <p class="tweet-user-name">しょーけん@SHOKEN4</p>
        
        <p class="tweet-date"><a href="https://twitter.com/SHOKEN4/status/1269917327295823874"
            target="_blank">2020/6/8 18:00:59</a></p>
      </header>
      <section>
        <p class="tweet-text">あのグラディウスがアーケード版とほぼ同じ環境でできる事を知ってゲットした68，沙羅曼蛇もグラディウスⅡもアーケード版とほぼ同じなので遊びまくった！素晴らしいマシン！ありがとう68！ #X68の日 https://t.co/uZu56tzDkC</p>
        
        <img  class="tweet-img" src="https://pbs.twimg.com/media/EZ-nErHUEAArz25.jpg" />
        
      </section>
      
    </article>
    
  </div>
  <footer>
    CopyLight 2019 Satoshi Fujiwara
  </footer>
  <script async src="https://platform.twitter.com/widgets.js"></script>

  <script async src="./index.js"></script>

</body>

</html>